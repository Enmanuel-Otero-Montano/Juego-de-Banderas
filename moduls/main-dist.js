const buttonNextFlags=document.querySelector(".btn-next"),buttonCheck=document.querySelector(".btn-check"),buttonNextRegion=document.querySelector(".btn-next-region-mode-career"),buttonRestart=document.querySelector(".btn-restart"),buttonPista=document.querySelector(".btn-track"),centerFlag=document.querySelector(".flags-center"),flagsContainer=document.querySelector(".flags-container"),listOfNames=document.querySelector(".section-names__list"),dropFlagLeft=document.querySelector(".drop-flag-left"),dropFlagCenter=document.querySelector(".drop-flag-center"),dropFlagRight=document.querySelector(".drop-flag-right"),howToPlayModal=document.querySelector(".modal-how-to-play"),closeModal=document.querySelector(".close-button"),buttonMenu=document.querySelector(".menu"),menuContainer=document.querySelector(".menu-container"),howToPlay=document.querySelector(".how-to-play"),loading=document.querySelector(".loading"),loadingError=document.querySelector(".error-loading"),currentStageInformation=document.querySelector(".current-stage"),currentPoints=document.querySelector(".current-points"),remainingTracks=document.querySelector(".remaining-tracks"),numberOfLives=document.querySelector(".number-of-lives"),heart=document.querySelector(".heart"),counter=document.querySelector(".counter"),dialog=document.querySelector(".dialog"),regionOrStage=document.querySelector(".region-stage"),dialogFailed=document.querySelector(".dialog-failed"),textFaildeReason=document.querySelector(".failed-text-reason"),informationContainer=document.querySelector(".information-container"),locationPopulationContainer=document.querySelector(".location-population-capital-container"),countryLocation=document.querySelector(".location"),capitalInformationContainer=document.querySelector(".capital-information-container"),buttonCapital=document.querySelector(".btn-capital"),capitalCountryName=document.querySelector(".capital-country-name"),countryCapital=document.querySelector(".capital-name"),populationInformationContainer=document.querySelector(".population-information-container"),buttonPopulation=document.querySelector(".btn-population"),populationCountryName=document.querySelector(".population-country-name"),countryPopulation=document.querySelector(".country-population"),regionName=document.querySelector(".region-name");import{saveScore,getGlobalTop,getUserTop,getCountryTop,getScoresSummary}from"../javascript/score.js";loadingError.hidden=!0;const leftSideFlag=document.createElement("IMG");leftSideFlag.setAttribute("class","flags-left");const rightSideFlag=document.createElement("IMG");rightSideFlag.setAttribute("class","flags-right");const region=location.href,allCountries={countries:[]},currentRegion={region:[]},flagIndex={index:void 0},selectedName={name:""},nameOfTheFlags={"left flag name":void 0,"center flag name":void 0,"right flag name":void 0},totalTime={"fourteen names":115,"eighteen names":140},stop={counter:void 0},REST_URL="https://restcountries.com/v3.1/all?fields=name,flags,subregion,region,independent,maps,capital,population",callCountry=async()=>{try{const e=await fetch(REST_URL,{cache:"no-store"});if(!e.ok){const t=await e.text().catch((()=>""));throw new Error(`REST Countries ${e.status} ${e.statusText} - ${t}`)}return e.json()}catch(e){throw loading.classList.add("loading-hidden"),loadingError.textContent="¡Ups! No pudimos cargar los países. Reintenta en unos segundos.",loadingError.hidden=!1,console.error("Error cargando países:",e),e}},saveCountriesInArray=async e=>{try{allCountries.countries=await callCountry(),e.includes("career-mode")||e.includes("america")?southAmerica():e.includes("europe")?southOfEurope():e.includes("africa")?easternAfrica():e.includes("oceania")?oceaniaFunct():e.includes("asia")&&westernAsia(),showNames(),showCenterFlag(),loaded()}catch(e){e instanceof TypeError&&(loading.classList.add("loading-hidden"),loadingError.hidden=!1)}};document.addEventListener("DOMContentLoaded",(()=>saveCountriesInArray(region)));const showNames=()=>{const e=document.createDocumentFragment();for(const t of currentRegion.region){const a=document.createElement("LI");a.textContent=`${t.name.common}`,a.setAttribute("id",t.name.common),a.setAttribute("class","flag-names"),e.appendChild(a)}listOfNames.appendChild(e);const t=matchMedia("(min-width: 565px)");18===listOfNames.childElementCount&&t.matches?listOfNames.classList.add("section-names__list-eighteen"):listOfNames.classList.remove("section-names__list-eighteen")},showLeftFlag=()=>{flagIndex.index=Math.trunc(Math.random()*(currentRegion.region.length-0)+0),leftSideFlag.setAttribute("src",currentRegion.region[flagIndex.index].flags.png),flagsContainer.prepend(leftSideFlag),nameOfTheFlags["left flag name"]=currentRegion.region[flagIndex.index].name.common,currentRegion.region.splice(flagIndex.index,1)},showRightFlag=()=>{flagIndex.index=Math.trunc(Math.random()*(currentRegion.region.length-0)+0),rightSideFlag.setAttribute("src",currentRegion.region[flagIndex.index].flags.png),flagsContainer.append(rightSideFlag),nameOfTheFlags["right flag name"]=currentRegion.region[flagIndex.index].name.common,currentRegion.region.splice(flagIndex.index,1)},showCenterFlag=()=>{flagIndex.index=Math.trunc(Math.random()*(currentRegion.region.length-0)+0),centerFlag.setAttribute("src",currentRegion.region[flagIndex.index].flags.png),leftSideFlag.after(centerFlag),nameOfTheFlags["center flag name"]=currentRegion.region[flagIndex.index].name.common};listOfNames.addEventListener("click",(e=>{if(!e.target.classList.contains("section-names__list")){if(selectedName.name=e.target.id,dropFlagCenter.classList.remove("flag-drop-area-failed"),dropFlagLeft.classList.remove("flag-drop-area-failed"),dropFlagRight.classList.remove("flag-drop-area-failed"),0===currentRegion.region.length&&dropFlagCenter.textContent===nameOfTheFlags["center flag name"]&&dropFlagLeft.textContent===nameOfTheFlags["left flag name"]&&dropFlagRight.textContent===nameOfTheFlags["right flag name"]&&dropFlagCenter.classList.contains("flag-drop-area-success")&&dropFlagLeft.classList.contains("flag-drop-area-success")&&dropFlagRight.classList.contains("flag-drop-area-success")){const e=allCountries.countries.find((e=>e.name.common===selectedName.name));countryLocation.setAttribute("href",`${e.maps.googleMaps}`),informationContainer.classList.remove("information-container-show"),populationInformationContainer.classList.remove("population-information-container-show"),locationPopulationContainer.classList.add("location-population-capital-container-show"),capitalInformationContainer.classList.remove("capital-information-container-show"),countryPopulation.textContent=e.population,populationCountryName.textContent=selectedName.name,capitalCountryName.textContent=selectedName.name,capitalCountryName.classList.add("flag-names-selected"),countryCapital.textContent=e.capital}removeNameSelected(),e.target.classList.add("flag-names-selected"),menuContainer.classList.contains("menu-container-show")&&menuContainer.classList.remove("menu-container-show")}}));const removeNameSelected=()=>{for(const e of listOfNames.children)e.classList.remove("flag-names-selected")},checkNumberOfCurrentLives=()=>{numberOfLives.textContent=--numberOfLives.textContent,"1"===numberOfLives.textContent?heart.classList.add("one-heart"):(heart.classList.add("heart-animation"),setTimeout((()=>{heart.classList.remove("heart-animation")}),280))},checkNumberOfLives=()=>"0"===numberOfLives.textContent?(clearInterval(stop.counter),heart.classList.remove("one-heart"),totalTime["fourteen names"]=115,totalTime["eighteen names"]=140,stage.currentStage=1,currentStageInformation.textContent=stage.currentStage,textFaildeReason.textContent="corazones",dialogFailed.show(),"Game over"):"Game on",calculatePoints=(e,t,a)=>{t.classList.contains("flag-drop-area-success")&&e.classList.contains("flag-drop-area-hidden")?currentPoints.textContent=parseInt(currentPoints.textContent)+parseInt(t.dataset.points):e.classList.contains("flag-drop-area-success")&&a.classList.contains("flag-drop-area-success")&&t.classList.contains("flag-drop-area-hidden")?currentPoints.textContent=parseInt(currentPoints.textContent)+parseInt(e.dataset.points)+parseInt(a.dataset.points):t.classList.contains("flag-drop-area-success")&&e.classList.contains("flag-drop-area-success")&&a.classList.contains("flag-drop-area-success")&&(currentPoints.textContent=parseInt(currentPoints.textContent)+parseInt(dropFlagCenter.dataset.points)+parseInt(e.dataset.points)+parseInt(a.dataset.points))};centerFlag.addEventListener("click",(()=>{flagsContainer.nextElementSibling.children[1].textContent=selectedName.name,removeNameSelected()})),leftSideFlag.addEventListener("click",(()=>{flagsContainer.nextElementSibling.children[0].textContent=selectedName.name,removeNameSelected()})),rightSideFlag.addEventListener("click",(()=>{flagsContainer.nextElementSibling.children[2].textContent=selectedName.name,removeNameSelected()})),buttonCheck.addEventListener("click",(()=>{if(!dropFlagCenter.classList.contains("flag-drop-area-hidden")&&dropFlagLeft.classList.contains("flag-drop-area-hidden")?dropFlagCenter.textContent===nameOfTheFlags["center flag name"]?(dropFlagCenter.classList.add("flag-drop-area-success"),buttonNextFlags.disabled=!1,buttonNextFlags.style.opacity="initial",buttonCheck.disabled=!0):(dropFlagCenter.classList.add("flag-drop-area-failed"),dropFlagCenter.setAttribute("data-points","5"),region.includes("career-mode")&&checkNumberOfCurrentLives()):dropFlagLeft.classList.contains("flag-drop-area-hidden")||dropFlagRight.classList.contains("flag-drop-area-hidden")||!dropFlagCenter.classList.contains("flag-drop-area-hidden")?dropFlagCenter.textContent===nameOfTheFlags["center flag name"]&&dropFlagLeft.textContent===nameOfTheFlags["left flag name"]&&dropFlagRight.textContent===nameOfTheFlags["right flag name"]?(dropFlagCenter.classList.add("flag-drop-area-success"),dropFlagLeft.classList.add("flag-drop-area-success"),dropFlagRight.classList.add("flag-drop-area-success"),informationContainer.classList.add("information-container-show"),clearInterval(stop.counter),region.includes("career-mode")?"12"!==currentStageInformation.textContent?(regionOrStage.textContent="esta etapa!",dialog.show()):(regionOrStage.textContent="todas las etapas!",dialog.show()):region.includes("america")?(stage.currentStage<2?regionOrStage.textContent="esta etapa!":(regionOrStage.textContent=`la región de ${regionName.textContent}!`,buttonNextRegion.style.display="none"),dialog.show()):region.includes("asia")||region.includes("europe")||region.includes("africa")?(stage.currentStage<3?regionOrStage.textContent="esta etapa!":(regionOrStage.textContent=`la región de ${regionName.textContent}!`,buttonNextRegion.style.display="none"),dialog.show(),clearInterval(stop.counter)):region.includes("oceania")&&1===stage.currentStage&&(regionOrStage.textContent=`la región de ${regionName.textContent}!`,dialog.show(),clearInterval(stop.counter)),buttonCheck.disabled=!0,buttonCheck.style.opacity=".2",centerFlag.setAttribute("src","")):dropFlagCenter.textContent!==nameOfTheFlags["center flag name"]&&dropFlagLeft.textContent===nameOfTheFlags["left flag name"]&&dropFlagRight.textContent===nameOfTheFlags["right flag name"]?(dropFlagCenter.classList.add("flag-drop-area-failed"),dropFlagCenter.setAttribute("data-pointd","5"),dropFlagLeft.classList.add("flag-drop-area-success"),dropFlagRight.classList.add("flag-drop-area-success"),location.href.includes("career-mode")&&checkNumberOfCurrentLives()):dropFlagCenter.textContent==nameOfTheFlags["center flag name"]&&dropFlagLeft.textContent!==nameOfTheFlags["left flag name"]&&dropFlagRight.textContent===nameOfTheFlags["right flag name"]?(dropFlagCenter.classList.add("flag-drop-area-success"),dropFlagLeft.classList.add("flag-drop-area-failed"),dropFlagRight.classList.add("flag-drop-area-success"),dropFlagLeft.setAttribute("data-pointd","5"),location.href.includes("career-mode")&&checkNumberOfCurrentLives()):dropFlagCenter.textContent==nameOfTheFlags["center flag name"]&&dropFlagLeft.textContent===nameOfTheFlags["left flag name"]&&dropFlagRight.textContent!==nameOfTheFlags["right flag name"]?(dropFlagCenter.classList.add("flag-drop-area-success"),dropFlagLeft.classList.add("flag-drop-area-success"),dropFlagRight.classList.add("flag-drop-area-failed"),dropFlagRight.setAttribute("data-pointd","5"),location.href.includes("career-mode")&&checkNumberOfCurrentLives()):dropFlagCenter.textContent==nameOfTheFlags["center flag name"]&&dropFlagLeft.textContent!==nameOfTheFlags["left flag name"]&&dropFlagRight.textContent!==nameOfTheFlags["right flag name"]?(dropFlagCenter.classList.add("flag-drop-area-success"),dropFlagLeft.classList.add("flag-drop-area-failed"),dropFlagRight.classList.add("flag-drop-area-failed"),location.href.includes("career-mode")&&checkNumberOfCurrentLives()):dropFlagCenter.textContent!==nameOfTheFlags["center flag name"]&&dropFlagLeft.textContent===nameOfTheFlags["left flag name"]&&dropFlagRight.textContent!==nameOfTheFlags["right flag name"]?(dropFlagCenter.classList.add("flag-drop-area-failed"),dropFlagLeft.classList.add("flag-drop-area-success"),dropFlagRight.classList.add("flag-drop-area-failed"),location.href.includes("career-mode")&&checkNumberOfCurrentLives()):dropFlagCenter.textContent!==nameOfTheFlags["center flag name"]&&dropFlagLeft.textContent!==nameOfTheFlags["left flag name"]&&dropFlagRight.textContent===nameOfTheFlags["right flag name"]?(dropFlagCenter.classList.add("flag-drop-area-failed"),dropFlagLeft.classList.add("flag-drop-area-failed"),dropFlagRight.classList.add("flag-drop-area-success"),location.href.includes("career-mode")&&checkNumberOfCurrentLives()):(dropFlagCenter.classList.add("flag-drop-area-failed"),dropFlagLeft.classList.add("flag-drop-area-failed"),dropFlagRight.classList.add("flag-drop-area-failed"),location.href.includes("career-mode")&&checkNumberOfCurrentLives()):dropFlagLeft.textContent===nameOfTheFlags["left flag name"]&&dropFlagRight.textContent===nameOfTheFlags["right flag name"]?(dropFlagLeft.classList.contains("flag-drop-area-failed")&&dropFlagLeft.classList.remove("flag-drop-area-failed"),dropFlagRight.classList.contains("flag-drop-area-failed")&&dropFlagRight.classList.remove("flag-drop-area-failed"),dropFlagLeft.classList.add("flag-drop-area-success"),dropFlagRight.classList.add("flag-drop-area-success"),buttonNextFlags.disabled=!1,buttonNextFlags.style.opacity="initial",buttonCheck.disabled=!0):dropFlagLeft.textContent===nameOfTheFlags["left flag name"]&&dropFlagRight.textContent!==nameOfTheFlags["right flag name"]?(dropFlagLeft.classList.add("flag-drop-area-success"),dropFlagRight.classList.add("flag-drop-area-failed"),dropFlagRight.setAttribute("data-points","5"),region.includes("career-mode")&&checkNumberOfCurrentLives()):dropFlagLeft.textContent!==nameOfTheFlags["left flag name"]&&dropFlagRight.textContent===nameOfTheFlags["right flag name"]?(dropFlagLeft.classList.add("flag-drop-area-failed"),dropFlagRight.classList.add("flag-drop-area-success"),dropFlagLeft.setAttribute("data-points","5"),region.includes("career-mode")&&checkNumberOfCurrentLives()):(dropFlagLeft.classList.add("flag-drop-area-failed"),dropFlagRight.classList.add("flag-drop-area-failed"),region.includes("career-mode")&&checkNumberOfCurrentLives()),calculatePoints(dropFlagLeft,dropFlagCenter,dropFlagRight),region.includes("career-mode")){"Game over"===checkNumberOfLives()&&(saveScore(Number.parseInt(currentPoints.textContent,10)||0),getUserTop(userId).then((e=>{console.log(e)})))}})),buttonNextFlags.addEventListener("click",(()=>{nameOfTheFlags["center flag name"]=void 0,nameOfTheFlags["left flag name"]=void 0,nameOfTheFlags["right flag name"]=void 0,dropFlagCenter.dataset.points="10",dropFlagLeft.dataset.points="10",dropFlagRight.dataset.points="10",buttonCheck.disabled=!1,"0"===remainingTracks.textContent||3===currentRegion.region.length?(buttonPista.disabled=!0,buttonPista.classList.add("btn-track-disabled")):(buttonPista.disabled=!1,buttonPista.classList.remove("btn-track-disabled")),1===flagsContainer.childElementCount?(centerFlag.remove(),currentRegion.region.splice(flagIndex.index,1),flagsContainer.classList.add("flags-container-two-flags"),showLeftFlag(),showRightFlag(),dropFlagLeft.classList.remove("flag-drop-area-hidden"),dropFlagRight.classList.remove("flag-drop-area-hidden"),dropFlagCenter.classList.add("flag-drop-area-hidden"),dropFlagCenter.textContent="",centerFlag.setAttribute("src","")):3===currentRegion.region.length?(leftSideFlag.remove(),rightSideFlag.remove(),dropFlagCenter.classList.remove("flag-drop-area-hidden","flag-drop-area-success","flag-drop-area-failed"),dropFlagLeft.classList.remove("flag-drop-area-success","flag-drop-area-failed"),dropFlagRight.classList.remove("flag-drop-area-success","flag-drop-area-failed"),dropFlagLeft.textContent="",dropFlagRight.textContent="",showLeftFlag(),showRightFlag(),showCenterFlag(),currentRegion.region.splice(0),buttonNextFlags.disabled=!0):(leftSideFlag.remove(),rightSideFlag.remove(),dropFlagLeft.classList.remove("flag-drop-area-success"),dropFlagRight.classList.remove("flag-drop-area-success"),dropFlagLeft.textContent="",dropFlagRight.textContent="",showLeftFlag(),showRightFlag()),buttonNextFlags.disabled=!0,buttonNextFlags.style.opacity=".2"})),howToPlay.addEventListener("click",(()=>{howToPlayModal.classList.remove("modal-how-to-play-hidden"),clearInterval(stop.counter)})),closeModal.addEventListener("click",(()=>{howToPlayModal.classList.add("modal-how-to-play-hidden"),stop.counter=setInterval(counterDown,1e3)}));const stage={currentStage:1};region.includes("career-mode")?buttonNextRegion.addEventListener("click",(()=>{numberOfLives.textContent=++numberOfLives.textContent,stage.currentStage=++stage.currentStage,currentStageInformation.textContent=stage.currentStage,totalTime["fourteen names"]=115,totalTime["eighteen names"]=140,heart.classList.remove("one-heart"),careerMode(stage.currentStage),initialState()})):region.includes("america")?buttonNextRegion.addEventListener("click",(()=>{currentRegion.region.splice(0),restOfAmerica(),deleteNamesFromList(),showNames(),showCenterFlag(),initialState(),stage.currentStage=++stage.currentStage,currentStageInformation.textContent=stage.currentStage})):region.includes("asia")?buttonNextRegion.addEventListener("click",(()=>{currentRegion.region.splice(0),1===stage.currentStage?southernCentralAsia():2===stage.currentStage&&southEasternAsia(),deleteNamesFromList(),showNames(),showCenterFlag(),initialState(),totalTime["eighteen names"]=125,stage.currentStage=++stage.currentStage,currentStageInformation.textContent=stage.currentStage})):region.includes("europe")?buttonNextRegion.addEventListener("click",(()=>{currentRegion.region.splice(0),1===stage.currentStage?(easternCentralWesternEuropa(),totalTime["eighteen names"]=125):2===stage.currentStage&&northernEurope(),deleteNamesFromList(),showNames(),showCenterFlag(),initialState(),stage.currentStage=++stage.currentStage,currentStageInformation.textContent=stage.currentStage})):region.includes("africa")&&buttonNextRegion.addEventListener("click",(()=>{currentRegion.region.splice(0),1===stage.currentStage?westernAfrica():2===stage.currentStage&&southernAndNorthernAfrica(),deleteNamesFromList(),showNames(),showCenterFlag(),initialState(),totalTime["eighteen names"]=140,stage.currentStage=++stage.currentStage,currentStageInformation.textContent=stage.currentStage}));const careerMode=e=>{currentRegion.region.splice(0),1===e?southAmerica():2===e?southOfEurope():3===e?westernAfrica():4===e?southEasternAsia():5===e?oceaniaFunct():6===e?restOfAmerica():7===e?southernCentralAsia():8===e?northernEurope():9===e?southernAndNorthernAfrica():10===e?westernAsia():11===e?easternAfrica():12===e&&easternCentralWesternEuropa(),deleteNamesFromList(),showNames(),showCenterFlag()},southAmerica=()=>{currentRegion.region=allCountries.countries.filter((e=>"South America"===e.subregion))},southOfEurope=()=>{currentRegion.region=allCountries.countries.filter((e=>"Southern Europe"===e.subregion&&"Gibraltar"!==e.name.common||"Southeast Europe"==e.subregion))},westernAfrica=()=>{currentRegion.region=allCountries.countries.filter((e=>"Western Africa"===e.subregion&&1==e.independent||"São Tomé and Príncipe"==e.name.common||"Gabon"==e.name.common))},southEasternAsia=()=>{currentRegion.region=allCountries.countries.filter((e=>"South-Eastern Asia"===e.subregion||"Eastern Asia"==e.subregion&&"Macau"!==e.name.common))},oceaniaFunct=()=>{currentRegion.region=allCountries.countries.filter((e=>"Oceania"===e.region&&1==e.independent))},restOfAmerica=()=>{currentRegion.region=allCountries.countries.filter((e=>"Central America"===e.subregion||"North America"==e.subregion&&!1!==e.independent||"Caribbean"===e.subregion&&"Cuba"==e.name.common||"Dominican Republic"==e.name.common||"Haiti"==e.name.common||"Bahamas"==e.name.common||"Jamaica"==e.name.common||"Puerto Rico"==e.name.common||"Trinidad and Tobago"==e.name.common||"Dominica"==e.name.common))},southernCentralAsia=()=>{currentRegion.region=allCountries.countries.filter((e=>"Central Asia"===e.subregion&&"Turkmenistan"!==e.name.common||"Southern Asia"==e.subregion||"Macau"==e.name.common))},northernEurope=()=>{currentRegion.region=allCountries.countries.filter((e=>"Northern Europe"===e.subregion&&"Svalbard and Jan Mayen"!==e.name.common&&"Åland Islands"!==e.name.common))},southernAndNorthernAfrica=()=>{currentRegion.region=allCountries.countries.filter((e=>"Northern Africa"===e.subregion&&1==e.independent||"Southern Africa"==e.subregion||"Middle Africa"==e.subregion&&"Central African Republic"!==e.name.common&&"South Sudan"!==e.name.common&&"São Tomé and Príncipe"!==e.name.common&&"Gabon"!==e.name.common))},westernAsia=()=>{currentRegion.region=allCountries.countries.filter((e=>"Western Asia"===e.subregion||"Turkmenistan"==e.name.common))},easternAfrica=()=>{currentRegion.region=allCountries.countries.filter((e=>"Eastern Africa"===e.subregion&&1==e.independent||"Central African Republic"==e.name.common||"South Sudan"==e.name.common))},easternCentralWesternEuropa=()=>{currentRegion.region=allCountries.countries.filter((e=>"Eastern Europe"===e.subregion||"Central Europe"==e.subregion||"Western Europe"==e.subregion))},deleteNamesFromList=()=>{for(;listOfNames.children.length>0;)listOfNames.removeChild(listOfNames.children[0])},initialState=()=>{flagsContainer.classList.remove("flags-container-two-flags"),leftSideFlag.remove(),rightSideFlag.remove(),leftSideFlag.setAttribute("src",""),rightSideFlag.setAttribute("src",""),dropFlagLeft.classList.add("flag-drop-area-hidden"),dropFlagRight.classList.add("flag-drop-area-hidden"),dropFlagCenter.classList.remove("flag-drop-area-success","flag-drop-area-failed","flag-drop-area-hidden"),dropFlagLeft.classList.remove("flag-drop-area-success","flag-drop-area-failed"),dropFlagRight.classList.remove("flag-drop-area-success","flag-drop-area-failed"),dropFlagLeft.textContent="",dropFlagRight.textContent="",dropFlagCenter.textContent="",informationContainer.classList.remove("information-container-show"),locationPopulationContainer.classList.remove("location-population-capital-container-show"),populationInformationContainer.classList.remove("population-information-container-show"),capitalInformationContainer.classList.remove("capital-information-container-show"),buttonPista.disabled=!1,buttonPista.classList.remove("btn-track-disabled"),buttonCheck.disabled=!1,buttonCheck.style.opacity="initial",buttonNextFlags.disabled=!0,buttonNextFlags.style.opacity="0.2",counter.classList.remove("counter-red"),dialog.close(),remainingTracks.textContent="2",stop.counter=setInterval(counterDown,1e3)};function counterDown(){0!==totalTime["fourteen names"]&&0!==totalTime["eighteen names"]||(clearInterval(stop.counter),totalTime["fourteen names"]=115,totalTime["eighteen names"]=140,stage.currentStage=1,currentStageInformation.textContent=stage.currentStage,textFaildeReason.textContent="tiempo",dialogFailed.show(),heart.classList.contains("one-heart")&&heart.classList.remove("one-heart")),14===listOfNames.children.length?(counter.textContent=`${totalTime["fourteen names"]} s`,totalTime["fourteen names"]--):18===listOfNames.children.length&&(counter.textContent=`${totalTime["eighteen names"]} s`,totalTime["eighteen names"]--),(totalTime["fourteen names"]<=24||totalTime["eighteen names"]<=24)&&counter.classList.add("counter-red")}const trueTrack=e=>{Array.from(listOfNames.children).forEach((t=>{t.textContent===e&&(t.classList.add("track"),setTimeout((()=>{t.classList.remove("track")}),2400))}))};buttonMenu.addEventListener("click",(()=>{menuContainer.classList.toggle("menu-container-show")})),buttonPopulation.addEventListener("click",(()=>{locationPopulationContainer.classList.remove("location-population-capital-container-show"),populationInformationContainer.classList.add("population-information-container-show")})),buttonCapital.addEventListener("click",(()=>{locationPopulationContainer.classList.remove("location-population-capital-container-show"),capitalInformationContainer.classList.add("capital-information-container-show")})),buttonRestart.addEventListener("click",(()=>{nameOfTheFlags["center flag name"]=void 0,nameOfTheFlags["left flag name"]=void 0,nameOfTheFlags["right flag name"]=void 0,region.includes("oceania")?(oceaniaFunct(),deleteNamesFromList(),showNames(),showCenterFlag(),currentPoints.textContent="00"):region.includes("europe")?(southOfEurope(),deleteNamesFromList(),showNames(),showCenterFlag(),currentPoints.textContent="00"):region.includes("asia")?(westernAsia(),deleteNamesFromList(),showNames(),showCenterFlag(),currentPoints.textContent="00"):region.includes("africa")?(easternAfrica(),deleteNamesFromList(),showNames(),showCenterFlag(),currentPoints.textContent="00"):region.includes("america")?(southAmerica(),deleteNamesFromList(),showNames(),showCenterFlag(),currentPoints.textContent="00"):(careerMode(stage.currentStage),currentPoints.textContent="00",numberOfLives.textContent="15"),initialState(),dialogFailed.close()})),buttonPista.addEventListener("click",(()=>{if("2"!==remainingTracks.textContent&&"1"!==remainingTracks.textContent||(remainingTracks.textContent=parseInt(remainingTracks.textContent-1)),1===flagsContainer.childElementCount){let e=Math.trunc(Math.random()*(currentRegion.region.length-0)+0);if(trueTrack(nameOfTheFlags["center flag name"]),e===currentRegion.region.findIndex((e=>e.name.common===nameOfTheFlags["center flag name"])))do{e=Math.trunc(Math.random()*(currentRegion.region.length-0)+0),e!==currentRegion.region.findIndex((e=>e.name.common===nameOfTheFlags["center flag name"]))&&(listOfNames.children[e].classList.add("track"),setTimeout((()=>{listOfNames.children[e].classList.remove("track")}),2400))}while(e===currentRegion.region.findIndex((e=>e.name.common===nameOfTheFlags["center flag name"])));else listOfNames.children[e].classList.add("track"),setTimeout((()=>{listOfNames.children[e].classList.remove("track")}),2400)}else if(2===flagsContainer.childElementCount){let e=Math.trunc(Math.random()*(currentRegion.region.length-0)+0);if(trueTrack(nameOfTheFlags["left flag name"]),trueTrack(nameOfTheFlags["right flag name"]),listOfNames.children[e].textContent===nameOfTheFlags["left flag name"]||listOfNames.children[e].textContent===nameOfTheFlags["right flag name"])do{e=Math.trunc(Math.random()*(currentRegion.region.length-0)+0),listOfNames.children[e].textContent===nameOfTheFlags["left flag name"]&&listOfNames.children[e].textContent!==nameOfTheFlags["right flag name"]||(listOfNames.children[e].classList.add("track"),setTimeout((()=>{listOfNames.children[e].classList.remove("track")}),2400))}while(listOfNames.children[e].textContent===nameOfTheFlags["left flag name"]||listOfNames.children[e].textContent===nameOfTheFlags["right flag name"]);else listOfNames.children[e].classList.add("track"),setTimeout((()=>{listOfNames.children[e].classList.remove("track")}),2400)}buttonPista.disabled=!0,buttonPista.classList.add("btn-track-disabled")}));const loaded=()=>{closeModal.classList.remove("close-button-hidden"),loading.classList.add("loading-hidden")};oncontextmenu=function(){return!1},addEventListener("online",(()=>{saveCountriesInArray(region),loadingError.hidden=!0,loading.classList.remove("loading-hidden")}));